<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Initialize Spirals by Special Data Types • spiralize</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Initialize Spirals by Special Data Types">
<meta property="og:description" content="spiralize">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spiralize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Vignettes</li>
    <li>
      <a href="../articles/spiralize_intro.html">Visualize Data on Spirals</a>
    </li>
    <li>
      <a href="../articles/special_data_type.html">Initialize Spirals by Special Data Types</a>
    </li>
    <li>
      <a href="../articles/annotate.html">Annotate the Plot</a>
    </li>
    <li>
      <a href="../articles/examples.html">Real World Examples</a>
    </li>
    <li>
      <a href="../articles/tree_of_life.html">Visualize tree of life</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">More applications</li>
    <li>
      <a href="../articles/spiralize_git_commit.html">Spiral visualization on git commits of a git repo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/spiralize/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Initialize Spirals by Special Data Types</h1>
                        <h4 data-toc-skip class="author">Zuguang Gu (<a href="mailto:z.gu@dkfz.de" class="email">z.gu@dkfz.de</a>)</h4>
            
            <h4 data-toc-skip class="date">2024-02-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jokergoo/spiralize/blob/HEAD/vignettes/special_data_type.Rmd" class="external-link"><code>vignettes/special_data_type.Rmd</code></a></small>
      <div class="hidden name"><code>special_data_type.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="work-with-datetime-object">Work with date/time object<a class="anchor" aria-label="anchor" href="#work-with-datetime-object"></a>
</h2>
<p>For time series data, values on <em>x</em>-axis are time points in a certain unit, e.g. days, or hours, and are linearly distributed along the axis. To map time series data to the spiral, internally a simple conversion is applied. Assume the first time point is <code>t1</code> and the last time point is <code>t2</code>, the number of time points is <code>n = t2 - t1</code> which is the time difference between the two. If we take <code>[0, 1]</code> for the first time point, <code>[1, 2]</code> for the second time point, and <code>[n-1, n]</code> for the last time point, then internally the spiral is initialized with <code>xlim = c(0, n)</code> and a time point <code>d</code> is converted to the internal numeric value by <code>d - d1 + 0.5</code>.</p>
<p>The unit of time point can be set via the argument <code>unit_on_axis</code> and the unit of the period can be set via the argument <code>period</code>, e.g. <code>unit_on_axis = "days"</code> and <code>period = "years"</code>. <code>unit_on_aixs</code> can be set as one of <code>"days"</code>, <code>"months"</code>, <code>"weeks"</code>, <code>"hours"</code>, <code>"mins"</code> and <code>"secs"</code>. And there are also corresponding values for <code>period</code>. If these two arguments are not set, they are guessed from <code>xlim</code> automatically.</p>
<p>In the following examples, also note the default value of <code>polar_lines_by</code> is also different for different <code>period</code>. E.g. there are 12 polar lines for years (12 months), 7 polar lines for weeks (7 weekdays), 24 polar lines for days (24 hours).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2014-01-01"</span>, <span class="st">"2021-06-17"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'days'.</span></span>
<span><span class="co">## 'period' is set to 'years'.</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span>, <span class="st">"2021-01-05 00:00:00"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'mins'.</span></span>
<span><span class="co">## 'period' is set to 'days'.</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-3-2.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span>, <span class="st">"2021-01-01 00:10:00"</span><span class="op">)</span>,</span>
<span>    unit_on_axis <span class="op">=</span> <span class="st">"secs"</span>, period <span class="op">=</span> <span class="st">"mins"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-3-3.png" width="672" style="display: block; margin: auto;"></p>
<p>As shown in previous examples, the values for <code>xlim</code> should be a time/date object or their character forms that can be converted to the time/date object. Later when adding graphics, the time/date objects or their character forms can also be used as the <em>x</em>-locations for the low-level graphics functions. For example:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_points.html">spiral_points</a></span><span class="op">(</span><span class="st">"2021-01-01"</span>, <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p>Argument <code>at</code> can be set to a vector of times to control the breaks on the axis. In the next example, I set the time interval to every two hours.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span>, <span class="st">"2021-01-05 00:00:00"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'mins'.</span></span>
<span><span class="co">## 'period' is set to 'days'.</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="co"># `by` is measured in seconds</span></span>
<span><span class="va">at</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2021-01-05 00:00:00"</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="fl">60</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span>at <span class="op">=</span> <span class="va">at</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
<p>In the last example of this section, I let the spiral go clockwisely and put 0/12 o’clock on the top of each loop (simply done by setting <code>clockwise = TRUE</code>) and each loop corresponds to 12 hours:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span>, <span class="st">"2021-01-03 00:00:00"</span><span class="op">)</span>,</span>
<span>    start <span class="op">=</span> <span class="fl">360</span> <span class="op">+</span> <span class="fl">90</span>, period_per_loop <span class="op">=</span> <span class="fl">0.5</span>, clockwise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'mins'.</span></span>
<span><span class="co">## 'period' is set to 'days'.</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="va">at</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2021-01-05 00:00:00"</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="fl">60</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span>at <span class="op">=</span> <span class="va">at</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
<p>When each loop corresponds to a year and units on axis are days, maybe you have already seen the messages in the previous examples, by default, each loop actually corresponds to only 52 weeks (364 days) and the remaining 1 or 2 days will be added and accumulated to the next year. This might be a problem when there are many loops (many years). In the following left plot where we visualize 10 years, the total accumuated years result in about 15 degrees exceeding the full circle. The function <code><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time()</a></code> allows to set an argument <code>normalize_year = TRUE</code> so that each loop is perfectly a year. But users need to be cautious that now it is not easy to correspond weekdays between years because they are not perfectly aligned.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the left plot</span></span>
<span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2010-01-01"</span>, <span class="st">"2019-12-31"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># years() is from lubridate package</span></span>
<span>    <span class="fu"><a href="../reference/spiral_text.html">spiral_text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2010-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">years</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>, <span class="fl">0.5</span>, <span class="fl">2010</span> <span class="op">+</span> <span class="va">i</span>, facing <span class="op">=</span> <span class="st">"inside"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># the right plot</span></span>
<span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2010-01-01"</span>, <span class="st">"2019-12-31"</span><span class="op">)</span>,</span>
<span>    normalize_year <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/spiral_text.html">spiral_text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2010-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">years</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>, <span class="fl">0.5</span>, <span class="fl">2010</span> <span class="op">+</span> <span class="va">i</span>, facing <span class="op">=</span> <span class="st">"inside"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'days'.</span></span>
<span><span class="co">## 'period' is set to 'years'.</span></span></code></pre>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'days'.</span></span>
<span><span class="co">## 'period' is set to 'years'.</span></span></code></pre>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-8-1.png" width="960" style="display: block; margin: auto;"></p>
<p>Last, when each loop corresponds to a year and units on axis are days, and when <code>normalize_year</code> is set to <code>TRUE</code>, the background sectors partitioned by dashed radical lines actually correspond to the proportion of month days in a year, i.e., the width of Feburary is the smallest.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_time.html">spiral_initialize_by_time</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2010-01-01"</span>, <span class="st">"2014-12-31"</span><span class="op">)</span>, normalize_year <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'unit_to_axis' is set to 'days'.</span></span>
<span><span class="co">## 'period' is set to 'years'.</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="fl">11</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="st">"2014-01-15"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/weekday.POSIXt.html" class="external-link">months</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/spiral_text.html">spiral_text</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">1.5</span>, <span class="va">month.name</span><span class="op">[</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span><span class="op">]</span>, gp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar</a></span><span class="op">(</span>fontsize <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, </span>
<span>        facing <span class="op">=</span> <span class="st">"inside"</span>, nice_facing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="work-with-genomic-coordinates">Work with genomic coordinates<a class="anchor" aria-label="anchor" href="#work-with-genomic-coordinates"></a>
</h2>
<p>Genomic data can be represented as a data frame (e.g. in <em>bed</em> format), or as a <code>GRanges</code> object. To initialize the spiral for genomic data visualization, the data on <em>x</em>-axis corresponds to the genomic coordinates. The spiral with genomic data can be initialized by the function <code><a href="../reference/spiral_initialize_by_gcoor.html">spiral_initialize_by_gcoor()</a></code>. The genomic coordinates are linear numeric values, thus, <code><a href="../reference/spiral_initialize_by_gcoor.html">spiral_initialize_by_gcoor()</a></code> is basically the same as <code><a href="../reference/spiral_initialize.html">spiral_initialize()</a></code>. The only difference is the axis labels are automatically formatted for genomic coordinates.</p>
<p>Also since normally there are no periodic patterns for genomc data, <code>scale_by</code> is by default set to <code>"curve_length"</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spiral_initialize_by_gcoor.html">spiral_initialize_by_gcoor</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2e6</span>, <span class="fl">8e6</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 2MB to 8MB</span></span>
<span><span class="fu"><a href="../reference/spiral_track.html">spiral_track</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_axis.html">spiral_axis</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/spiral_points.html">spiral_points</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">500</span>, min <span class="op">=</span> <span class="fl">2e6</span>, max <span class="op">=</span> <span class="fl">8e6</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>, pch <span class="op">=</span> <span class="fl">16</span>, gp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar</a></span><span class="op">(</span>col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="special_data_type_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  <style>nav[data-toggle='toc'] .nav .nav {display: block;}</style>
</body>
</html>
